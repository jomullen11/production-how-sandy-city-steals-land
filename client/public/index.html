<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Merriweather|PT+Sans|Varela+Round|Lato|Raleway:500&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Wruczek/Bootstrap-Cookie-Alert@gh-pages/cookiealert.css">
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <meta name="google-signin-client_id"
    content="388134816034-npj2q31vu2itpmbfr76bd0ur9o2asrgn.apps.googleusercontent.com">
  <link rel="stylesheet" type="text/css" href="index.css">
  <title>How Sandy City Steals Land</title>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>

  <script>
    // set hours until cookies expire
    const hoursUntilCookieExpiration = 24

    function onSignIn(googleUser) {
      var profile = googleUser.getBasicProfile();
      function createCookie(key, value, date) {
        var expiration = new Date()
        expiration.setTime(expiration.getTime() + hoursUntilCookieExpiration * 3600 * 1000);
        var cookie = escape(key) + "=" + escape(value) + ";expires=" + expiration + ";";
        document.cookie = cookie;
      }

      // Setting email in cookies
      createCookie('Email', profile.getEmail())
      createCookie('ID', profile.getId())
    }
    // reloads page in all browsers except for Safari
    // in App if browser is safari a page alert will occur 20 seconds after the sign in button is clicked

  </script>

  <script>
    function signOut() {
      var auth2 = gapi.auth2.getAuthInstance();
      auth2.signOut().then(function () {
        console.log('User signed out.');
      });
      document.cookie = "Email=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      document.cookie = "ID=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      alert('Successfully Signed Out')
    }
  </script>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/">How Sandy City Steals Land</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/home">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/related-articles">Related Articles</a>
        </li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <div class="g-signin2 my-2 my-sm-0" id='sign-in' data-onsuccess="onSignIn"></div>
        <button type="button" class="btn btn-sm btn-outline-secondary" id='sign-out' onclick="signOut()">Sign out</button>
      </form>
    </div>
  </nav>

  <div id="root">
  </div>

  <div class="alert text-center cookiealert" role="alert">
    <b>Do you like cookies?</b> &#x1F36A; We use cookies to ensure you get the best experience on our website. <a
      href="https://cookiesandyou.com/" target="_blank">Learn more</a>

    <button type="button" class="btn btn-primary btn-sm acceptcookies" aria-label="Close">
      I agree
    </button>
  </div>

  <script src="https://cdn.jsdelivr.net/gh/Wruczek/Bootstrap-Cookie-Alert@gh-pages/cookiealert.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
</body>

</html>